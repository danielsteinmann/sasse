{% extends "base_ranglisten.html" %}
{% block nav_rang_kat %}selected{% endblock %}
{% block content %}
{% load pagination_tags %}
{% autopaginate rangliste 20 %}
{% for k in disziplin.kategorien.all %}
{% ifequal k.id kategorie.id %}<b>{{ k.name }}</b>
{% else %}<a href="{% url rangliste wettkampf.jahr, wettkampf.name, disziplin.name, k.name %}">{{ k.name }}</a>
{% endifequal %}{% if not forloop.last %}|{% endif %}
{% endfor %}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="{% url rangliste_pdf wettkampf.jahr, wettkampf.name, disziplin.name, kategorie.name %}">Kategorie {{ kategorie.name }} als PDF</a>
<p>
<table class="list">
  <tr>
    <th class="startnummer">Rang</th>
    <th>Fahrerpaar</th>
    <th>Sektion</th>
    <th class="startnummer">Startnr</th>
    <th class="note">Zeit</th>
    <th class="note">Punkte</th>
  </tr>
{% for row in rangliste %}
  {% ifchanged row.kranz %}{% if not forloop.first %}
  <tr><td align="center" colspan="6">--- <a href="{% url kranzlimiten wettkampf.jahr, wettkampf.name, disziplin.name %}">Kranzlimite:</a> {{kranzlimite|default_if_none:"Default (ca 25%)"}} ---</td></tr>
  {% endif %}{% endifchanged %}
  <tr class="{% cycle "odd" "even" %}">
    <td align="center">{% if row.doppelstarter %}DS{% else %}{{row.rang}}{% endif %}</td>
    <td>{{row.steuermann}}{% if row.steuermann_ist_ds %}*{% endif %}
        / {{row.vorderfahrer}}{% if row.vorderfahrer_ist_ds %}*{% endif %}</td>
    <td>{{row.sektion}}</td>
    <td class="startnummer"><a href="{% url teilnehmer_get wettkampf.jahr, wettkampf.name, disziplin.name, row.startnummer %}">{{row.startnummer}}</a></td>
    <td class="note">{{row.zeit_tot}}</td>
    <td class="note"><a title="Notenblatt" href="{% url notenblatt wettkampf.jahr, wettkampf.name, disziplin.name, row.startnummer %}">{{row.punkt_tot}}</a></td>
  </tr>
{% endfor %}
</table>
<p>
{% paginate %}
{% endblock %}
